<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SDK: Getting Started</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../ibeo_logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK
   &#160;<span id="projectnumber">6.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Home</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dd/d32/a00041.html"><span>Data&#160;Types</span></a></li>
      <li><a href="../../d5/db6/a00042.html"><span>Examples</span></a></li>
      <li><a href="../../d3/dea/a00046.html"><span>Changelog</span></a></li>
      <li><a href="../../d3/de7/a00039.html"><span>License</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sec_gettingstarted_requirements">Requirements</a><ul><li class="level2"><a href="#ssec_cppCompiler">C++-Compiler</a></li>
<li class="level2"><a href="#ssec_boost">boost</a><ul><li class="level3"><a href="#sssec_boost_windows">Precompiled boost Libraries for Windows</a></li>
</ul>
</li>
<li class="level2"><a href="#ssec_cmake">CMake</a></li>
<li class="level2"><a href="#ssec_libjpeg">libjpeg</a></li>
</ul>
</li>
<li class="level1"><a href="#sec_gettingstarted_buildthesdk">To Build the SDK including demos and tools</a></li>
<li class="level1"><a href="#sec_gettingstarted_concept">Concepts - IbeoDevice/DataTypes/DataListener</a></li>
<li class="level1"><a href="#sec_gettingstarted_ownprogram">Build your own programs, using ibeosdk</a><ul><li class="level2"><a href="#ssec_gettingstarted_ownprogram_example">Example</a></li>
</ul>
</li>
<li class="level1"><a href="#sec_gettingstarted_typenameconflicts">Type name conflicts</a></li>
<li class="level1"><a href="#sec_gettingstarted_logging">Logging</a></li>
<li class="level1"><a href="#sec_gettingstarted_Troubleshooting">Troubleshooting</a><ul><li class="level2"><a href="#sec_gettingstarted_Troubleshooting_ReceiveBufferTooSmall">Receive Buffer too small</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="sec_gettingstarted_requirements"></a>
Requirements</h1>
<h2><a class="anchor" id="ssec_cppCompiler"></a>
C++-Compiler</h2>
<p>Tested with </p><table  class="doxtable">
<tr>
<th>OS  </th><th>Compiler   </th></tr>
<tr>
<td>Linux  </td><td>gcc 5.4   </td></tr>
<tr>
<td></td><td>gcc 7.3   </td></tr>
<tr>
<td>Windows  </td><td>Visual Studio 2015   </td></tr>
<tr>
<td></td><td>Visual Studio 2017   </td></tr>
</table>
<h2><a class="anchor" id="ssec_boost"></a>
boost</h2>
<p>Has to be installed.</p>
<p>Tested with boost 1.58.0 (Linux), 1.59 (Windows)</p>
<table  class="doxtable">
<tr>
<td style="border:0px"></td><td style="border:0px"><p class="starttd"> <th colspan="2"> Boost Versions      </th>  <tr>  <th> OS </th> <th> Compiler </th>  <th> 1.58.0 </th>  <th> 1.59.0 </th> </tr> </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>Windows  </td><td>VS 2015  </td><td></td><td>32+64 Bit   </td></tr>
<tr>
<td>Windows  </td><td>VS 2017  </td><td></td><td>32+64 Bit   </td></tr>
<tr>
<td>Linux  </td><td>g++ 5.4  </td><td>32+64 Bit  </td><td></td></tr>
<tr>
<td>Linux  </td><td>g++ 7.3  </td><td>32+64 Bit  </td><td></td></tr>
</table>
<h3><a class="anchor" id="sssec_boost_windows"></a>
Precompiled boost Libraries for Windows</h3>
<p>Windows is using precompiled boost libraries. boost precompiled libraries are not available from boost.org directly but from e.g.<br />
 </p><ul>
<li>
<a href="http://sourceforge.net/projects/boost/files/boost-binaries" target="_blank" rel="noopener noreferrer">http://sourceforge.net/projects/boost/files/boost-binaries</a><br />
 </li>
<li>
<a href="http://boost.teeks99.com" target="_blank" rel="noopener noreferrer">http://boost.teeks99.com</a><br />
 </li>
</ul>
<p>Choose the right boost version and the libraries for the right Visual Studio version, e.g. vc140 = Visual Studio 2015) <br />
</p>
<dl class="section attention"><dt>Attention</dt><dd><b>IMPORTANT:</b> To use the supplied build scripts under Windows, the environment variable <span style="color:#FF0000"><b>BOOST_ROOT</b></span> should point to the installation location of boost.</dd></dl>
<h2><a class="anchor" id="ssec_cmake"></a>
CMake</h2>
<p>Provides the cmake command (3.8.0 required).</p>
<h2><a class="anchor" id="ssec_libjpeg"></a>
libjpeg</h2>
<p><a href="https://www.libjpeg-turbo.org" target="_blank" rel="noopener noreferrer">libjpeg-turbo</a> has to be installed for using the ibeoSDK.</p>
<table  class="doxtable">
<tr>
<td style="border:0px"> <th colspan="2"> libjpeg-turbo </th> </td></tr>
<tr>
<th>OS  </th><th>Version  </th><th><p class="starttd">link  </p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>Windows 32 bit  </td><td>2.0.3  </td><td><a href="https://sourceforge.net/projects/libjpeg-turbo/files/2.0.3/libjpeg-turbo-2.0.3-vc64.exe/download" target="_blank" rel="noopener noreferrer">libjpeg-turbo-2.0.3-vc64.exe </a>   </td></tr>
<tr>
<td>Windows 64 bit  </td><td>2.0.3  </td><td><a href="https://sourceforge.net/projects/libjpeg-turbo/files/2.0.3/libjpeg-turbo-2.0.3-vc.exe/download" target="_blank" rel="noopener noreferrer">libjpeg-turbo-2.0.3-vc.exe </a>   </td></tr>
<tr>
<td>Linux 32 bit  </td><td>2.0.3  </td><td><a href="https://sourceforge.net/projects/libjpeg-turbo/files/2.0.3/libjpeg-turbo-2.0.3.tar.gz/download" target="_blank" rel="noopener noreferrer">libjpeg-turbo-2.0.3.tar.gz </a>   </td></tr>
<tr>
<td>others  </td><td>2.0.3  </td><td><a href="https://sourceforge.net/projects/libjpeg-turbo/files/2.0.3/" target="_blank" rel="noopener noreferrer">browse all versions </a>   </td></tr>
</table>
<dl class="section attention"><dt>Attention</dt><dd><b>IMPORTANT:</b> To use the supplied build scripts under Windows, the environment variable <span style="color:#FF0000"><b>LIBJPEG_ROOT</b></span> should point to the installation location of libjpeg. <br />
<br />
</dd></dl>
<h1><a class="anchor" id="sec_gettingstarted_buildthesdk"></a>
To Build the SDK including demos and tools</h1>
<ul>
<li>execute the build script<ul>
<li>linux: build.sh</li>
<li>Windows: build.bat (Note: Execute in <span style="color:#000000"><b>msbuild Command Prompt</b></span>)</li>
</ul>
</li>
<li>to run a demo you need to add arguments when you call it from the command line or if you want to debug it with Visual Studio you can add these arguments (like IP address, filename, logfile) in:<ul>
<li>Configuration -&gt; "All Configurations"</li>
<li>Configuration Properties<ul>
<li>Debugging<ul>
<li>Command Arguments</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="sec_gettingstarted_concept"></a>
Concepts - IbeoDevice/DataTypes/DataListener</h1>
<p>The connection to the hardware device, i.e. Ibeo laserscanner or ECU will be handled by an <a class="el" href="../../d0/d1f/a00247.html">ibeo::common::sdk::IbeoDevice</a>. The <a class="el" href="../../d0/d1f/a00247.html">ibeo::common::sdk::IbeoDevice</a> will receive messages (scan, object list, vehicle data, images) from the scanner/ECU and deserialize them. On receive it will inform all DataListenerers for the specific or general data type which has been registered to the <a class="el" href="../../d0/d1f/a00247.html">ibeo::common::sdk::IbeoDevice</a>.<br />
</p>
<p>For further information please read this document: <a href="../../sdk_getting_started.pdf">Introduction to ibeoSDK</a></p>
<h1><a class="anchor" id="sec_gettingstarted_ownprogram"></a>
Build your own programs, using ibeosdk</h1>
<p>Decide which device to connect to.<br />
 Currently available are </p><table  class="doxtable" style="border:0px">
<tr>
<td><a class="el" href="../../dc/ded/a00252.html" title="Class to connect to a LUX3/LUX4 sensor. ">ibeo::common::sdk::IbeoLux</a>  </td><td>LUX3/4 Laserscanner  </td></tr>
<tr>
<td><a class="el" href="../../de/dbc/a00249.html">ibeo::common::sdk::IbeoEcu</a>  </td><td>Ibeo ECU device, connected to a scanner  </td></tr>
<tr>
<td><a class="el" href="../../d4/d04/a00255.html" title="Class to connect to a Scala sensor. ">ibeo::common::sdk::IbeoScala</a>  </td><td>Ibeo Scala (B1 or B2) Laserscanner  </td></tr>
<tr>
<td><a class="el" href="../../d7/d03/a00254.html" title="Class to connect to a MiniLux sensor. ">ibeo::common::sdk::IbeoMiniLux</a>  </td><td>Ibeo MiniLux laserscanner  </td></tr>
</table>
<p>A collection of all needed include will be included by include the following files: </p><table  class="doxtable" style="border:0px">
<tr>
<td>IbeoLux  </td><td>&lt;<a class="el" href="../../df/d18/a01071.html" title="Include file for using IbeoLux. ">ibeo/common/sdk/lux.hpp</a>&gt;  </td></tr>
<tr>
<td>IbeoEcu  </td><td>&lt;<a class="el" href="../../d0/d82/a00857.html" title="Include file for using IbeoEcu. ">ibeo/common/sdk/ecu.hpp</a>&gt;  </td></tr>
<tr>
<td>IbeoScala  </td><td>&lt;<a class="el" href="../../d6/d4d/a01371.html">ibeo/common/sdk/scala.hpp</a>&gt;  </td></tr>
<tr>
<td>IbeoMiniLux  </td><td>&lt;<a class="el" href="../../db/d32/a01122.html">ibeo/common/sdk/minilux.hpp</a>&gt;  </td></tr>
</table>
<p>Decide which messages you are interested in and create a listner class for each message type. (You will find examples in IbeoSdkFileDemo: class MyScanListener, MyObjectListener, ... and in IbeoSdkEcuLiveDemo: AllEcuListener where all listeners gathered into one single class).</p>
<ol type="1">
<li>Create the ibeo::common::sdk::Listener objects.</li>
<li>Create the <a class="el" href="../../d0/d1f/a00247.html">ibeo::common::sdk::IbeoDevice</a> providing the IP address and port as parameters.</li>
<li>Optional: Set the ibeo::common::logging for the device</li>
<li>Register all listeners</li>
<li>Establish connection between the hardware and the <a class="el" href="../../d0/d1f/a00247.html">ibeo::common::sdk::IbeoDevice</a> class.</li>
</ol>
<p>The receiving will be handled in a separate thread. So the main thread has to be kept alive.</p>
<dl class="section attention"><dt>Attention</dt><dd><b>IMPORTANT:</b> Exit your program calling exit (cstdlib) instead of just return from the main function to close all open channels to prevent crashes due to open channels.</dd>
<dd>
<b>IMPORTANT:</b> If you build static libibeosdk.a on Linux you have to link with the link option &ndash;whole-archive (use "-Wl,--whole-archive" on the g++ command line).<br />
 Otherwise no data will be received by the devices.<br />
 On Windows Visual Studio will generate a list of linker include commands automatically by calling "src/ibeo/common/sdk/generateDataBlockList.bat"<br />
 as aprebuild event in the given projects to avoid the problem.</dd></dl>
<h2><a class="anchor" id="ssec_gettingstarted_ownprogram_example"></a>
Example</h2>
<p>See <a class="el" href="../../da/d40/a00946.html">IbeoSdkEcuLiveDemo.cpp</a>, class AllEcuListener.<br />
 Since AllEcuListener is derived from many listeners, the AllEcuListener object allEcuListener has to register in the function live_demo to the <a class="el" href="../../de/dbc/a00249.html">ibeo::common::sdk::IbeoEcu</a> device for all its ibeo::common::sdk::Listener ancestors.<br />
 After the ecu object has been connected the task will kept alive.<br />
 All the work will done by the <a class="el" href="../../de/dbc/a00249.html">ibeo::common::sdk::IbeoEcu</a> receive thread. When receiving n new data it will inform all registered ibeo::common::sdk::Listener for this and call their onData method.</p>
<p>In case an <a class="el" href="../../d9/d34/a00476.html" title="Ibeo FUSION SYSTEM/ECU object data: List of objects with extended tracking information (generic) ...">ibeo::common::sdk::ObjectList2280</a> has been received the onData method of all registered ibeo::common::sdk::ObjectListEcuEtListener will be called. This call is within the context of the receive thread of the <a class="el" href="../../de/dbc/a00249.html">ibeo::common::sdk::IbeoEcu</a> object.</p>
<p>Here the user can perform some action. This should not take too long since the TCP/IP interface will not be able to receive while this processing.<br />
 For example one can show the ids of all received objects:</p>
<div class="fragment"><div class="line"><span class="keyword">virtual</span> <span class="keywordtype">void</span> onData(<span class="keyword">const</span> ObjectList2280* <span class="keyword">const</span> objectList)</div><div class="line">{</div><div class="line">        logInfo &lt;&lt; <span class="stringliteral">&quot;ET Objects received: # &quot;</span> &lt;&lt; objectList-&gt;getNbOfObjects()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">        <span class="keyword">const</span> std::vector&lt;ObjectEcuEt&gt;&amp; objects = objectList-&gt;getObjects();</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; objects.size(); ++i) {</div><div class="line">                std::cerr &lt;&lt; <span class="stringliteral">&quot;Object &quot;</span> &lt;&lt; i</div><div class="line">                                &lt;&lt; <span class="stringliteral">&quot; has id: &quot;</span> &lt;&lt; objects.at(i).getObjectId() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line">}</div></div><!-- fragment --><p>For further information please read this document: <a href="../../sdk_user demomanual.pdf">SDK Demos</a></p>
<h1><a class="anchor" id="sec_gettingstarted_typenameconflicts"></a>
Type name conflicts</h1>
<p>All types defined in the SDK are inside the ibeo namespace.<br />
 In case of a name conflict, don't use the </p><div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d0/dd3/a01077.html">ibeo::common::sdk</a>;</div></div><!-- fragment --><p> so generous but selective inside methods where no conflict arises and the <a class="el" href="../../d0/dd3/a01077.html">ibeo::common::sdk</a>:: as prefix otherwise.</p>
<h1><a class="anchor" id="sec_gettingstarted_logging"></a>
Logging</h1>
<p>ibeo::common::logging provides you functions for logging output.</p>
<p>For further information please read this document: <a href="../../logging_user_manual.pdf">SDK Logging</a></p>
<h1><a class="anchor" id="sec_gettingstarted_Troubleshooting"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="sec_gettingstarted_Troubleshooting_ReceiveBufferTooSmall"></a>
Receive Buffer too small</h2>
<p>The following message indicates that the receive message buffer is too small. Error - MsgBuffer.cpp::recvMsg(134): Illegal message body size occured, buffer size exceeded: XXXXX Bytes in received DataBlock: 0xHHHH Set to 0. Where 0xHHHH is data block id that has been received.</p>
<p>To handle this problem increase the buffer size in <a class="el" href="../../d0/d34/a01486.html">src/ref/common/sdk/source/sdk/include/ibeo/common/sdk/devices/TcpReceiveThreadEnsemble.hpp</a> </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> bufferSize = 4 * 1024 * 1024;</div></div><!-- fragment --><p> to a size suitable to you message to be received and recompile you application. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 17 2020 15:12:31 for SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
