<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SDK: Migration Guide</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../ibeo_logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK
   &#160;<span id="projectnumber">6.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Home</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dd/d32/a00041.html"><span>Data&#160;Types</span></a></li>
      <li><a href="../../d5/db6/a00042.html"><span>Examples</span></a></li>
      <li><a href="../../d3/dea/a00046.html"><span>Changelog</span></a></li>
      <li><a href="../../d3/de7/a00039.html"><span>License</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Migration Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sec_migration">Migration Guide</a><ul><li class="level2"><a href="#sec_migration_table">Notable Migration Steps For SDK Version 6</a></li>
<li class="level2"><a href="#sec_migration_dc">Data Container Refactoring</a><ul><li class="level3"><a href="#sec_scan_gdc">Scan</a></li>
<li class="level3"><a href="#sec_carriageway_gdc">Carriageway</a></li>
<li class="level3"><a href="#sec_objectlist_gdc">ObjectList</a></li>
<li class="level3"><a href="#sec_pointcloud_gdc">PointCloud</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="sec_migration"></a>
Migration Guide</h1>
<h2><a class="anchor" id="sec_migration_table"></a>
Notable Migration Steps For SDK Version 6</h2>
<table class="doxtable">
<tr>
<th colspan="1"><br />
</th><th>old</th><th>new</th></tr>
<tr>
<th colspan="1">Includes</th><td colspan="1"><pre>&lt;ibeosdk/...&gt;</pre></td><td colspan="1"><pre>&lt;ibeo/common/sdk/...&gt;</pre></td></tr>
<tr>
<th colspan="1">Namespaces</th><td colspan="1"><pre>ibeosdk::</pre></td><td colspan="1"><pre><a class="el" href="../../d0/dd3/a01077.html">ibeo::common::sdk</a>::</pre></td></tr>
<tr>
<th rowspan="2">MountingPosition</th><td><pre>ibeosdk::MountingPosition()</pre></td><td><pre>ibeo::sdk::ibeosdk::MountingPosition&lt;float&gt;()</pre></td></tr>
<tr>
<td><pre>setYawAngle() / getYawAngle()</pre><pre>setPitchAngle() / getPitchAngle()</pre><pre>setRollAngle() / getRollAngle()</pre></td><td><pre>getYaw() / setYaw()</pre><pre>setPitch() / getPitch()</pre><pre>setRoll() / getRoll()</pre></td></tr>
<tr>
<th rowspan="3">TimeRecord</th><td><pre>&lt;ibeosdk/datablocks/TimeRecord9000.hpp&gt;</pre></td><td><pre>&lt;ibeosdk/datablocks/timerecord/TimeRecord9000.hpp&gt;</pre></td></tr>
<tr>
<td colspan="1"><pre>ibeosdk::TimeRecord9000::Fix_3D</pre></td><td colspan="1"><pre>common::sdk::TimeRecord9000::FixMode::Fix3D</pre></td></tr>
<tr>
<td colspan="1"><pre>timeRecord.setAll(...)</pre></td><td colspan="1"><pre>timeRecord.setTimesAndFixeModes(...)</pre></td></tr>
<tr>
<th colspan="1">DataTypeId</th><td><pre>ibeosdk::DataTypeId::DataType_IdcTrailer</pre><pre>ibeosdk::DataTypeId::DataType_FrameIndex</pre><pre>ibeosdk::DataTypeId::DataType_LuxScan</pre><pre>ibeosdk::DataTypeId::DataType_EcuScan</pre><pre>ibeosdk::DataTypeId::DataType_Image</pre><pre>ibeosdk::DataTypeId::DataType_EcuVehicleStateBasic2808</pre><pre>ibeosdk::DataTypeId::DataType_Notification</pre><pre>ibeosdk::DataTypeId::DataType_LuxObjectList</pre><pre>ibeosdk::DataTypeId::DataType_LuxVehicleStateBasic</pre></td><td><pre>common::sdk::DataTypeId::DataType_IdcTrailer6120</pre><pre>common::sdk::DataTypeId::DataType_FrameIndex6130</pre><pre>common::sdk::DataTypeId::DataType_Scan2202</pre><pre>common::sdk::DataTypeId::DataType_Scan2205</pre><pre>common::sdk::DataTypeId::DataType_Image2403</pre><pre>common::sdk::DataTypeId::DataType_VehicleStateBasic2808</pre><pre>common::sdk::DataTypeId::DataType_Notification2030</pre><pre>common::sdk::DataTypeId::DataType_ObjectList2221</pre><pre>common::sdk::DataTypeId::DataType_VehicleStateBasic2805</pre></td></tr>
<tr>
<th colspan="1">Image</th><td><pre>ibeosdk::Image::JPEG</pre></td><td><pre>common::sdk::image::ImageFormat::Jpeg</pre></td></tr>
<tr>
<th colspan="1">ClockType</th><td><pre>ibeosdk::ClockType::ClockName::Clock_User</pre><pre>ibeosdk::ClockType::ClockName::Clock_GpsImu</pre><pre>ibeosdk::ClockType::ClockName::Clock_ECU</pre></td><td><pre>common::sdk::ClockType::ClockName::Other</pre><pre>common::sdk::ClockType::ClockName::GpsImu</pre><pre>common::sdk::ClockType::ClockName::Ecu</pre></td></tr>
<tr>
<th colspan="1">VehicleState</th><td><pre>VehicleStateBasicEcu2808</pre><pre>vehicleStateBasicEcu2808.setVehicleVelocity(...)</pre><pre>vehicleStateBasicEcu2808.getVehicleVelocity(...)</pre></td><td><pre>VehicleState2808</pre><pre>vehicleState2808.setLongitudinalVelocity(...)<br />
vehicleState2808.getLongitudinalVelocity(...)</pre></td></tr>
</table>
<h2><a class="anchor" id="sec_migration_dc"></a>
Data Container Refactoring</h2>
<p>General data containers now exist for every type of data. Specializations implement data types for devices. Data Snippets share implementation details between implementations.</p>
<h3><a class="anchor" id="sec_scan_gdc"></a>
Scan</h3>
<p>The following table gives an overview of the current container types and snippets used for scans and the new structure.</p>
<table class="doxtable">
<tr>
<th></th><th>Scan (general)</th><th>Scan2202 (LUX)</th><th>Scan2205 (ECU)</th><th>Scan2208 (miniLUX)</th><th>Scan2209 (ECU)</th><th>ScalaFpgaRawData2310 (Scala) &rarr; Scan2310  </th></tr>
<tr>
<th>Point snippet type</th><td>ScanPointEcu &rarr; ScanPoint (using ScanPointIn2205)</td><td>ScanPointLux &rarr; ScanPointIn2202</td><td>ScanPointEcu &rarr; ScanPointIn2205</td><td>SubScan2208 &rarr; SubScanIn2208 ScanPoint2208 &rarr; ScanPointIn2208</td><td>ScanPointEcu &rarr; ScanPointIn2209 (using ScanPointIn2205)</td><td>ScalaFpgaRawScanPoint &rarr; ScanPointIn2310  </td></tr>
<tr>
<th>Scanner info snippet type</th><td>ScannerInfo (using ScannerInfoIn2205) ResolutionInfo (using ResolutionInfoIn2205)</td><td></td><td>ScannerInfo &rarr; ScannerInfoIn2205 ResolutionInfo &rarr; ResolutionInfoIn2205</td><td></td><td>ScannerInfo &rarr; ScannerInfoIn2209 (using ScannerInfoIn2205) ResolutionInfo &rarr; ResolutionInfoIn2209 (using ResolutionInfoIn2205)</td><td></td></tr>
<tr>
<th>Other snippet types</th><td></td><td></td><td></td><td><a class="el" href="../../dc/d2f/a00425.html">MountingPosition&lt;int16_t&gt;</a> &rarr; MountingPositionIn2208 (using <a class="el" href="../../dc/d2f/a00425.html">MountingPosition&lt;int16_t&gt;</a>)</td><td></td><td>ScalaFpgaRawData &rarr; move functionality to Scan2310 ScalaFpgaRawHeader &rarr; ScanHeaderIn2310 ScalaFpgaRawInfo &rarr; ScanInfoIn2310 ScalaFpgaRawSegInfo &rarr; ScanSegInfoIn2310 ScalaFpgaRawScanPointBase &rarr; ScanPointBaseIn2310 ScalaFpgaRawScanPoint &rarr; ScanPointIn2310 ScalaFpgaRawDiagPulse &rarr; ScanPointDiagPulseIn2310 ScalaFpgaRawRefScan &rarr; ScanPointRefScanIn2310 ScalaFpgaRawTrailer &rarr; ScanTrailerIn2310  </td></tr>
</table>
<h3><a class="anchor" id="sec_carriageway_gdc"></a>
Carriageway</h3>
<pre class="fragment">The following diagram shows an overview about the currently implemented hierarchy of carriage way classes.
</pre><div class="image">
<img src="../../Refactor_data_container_snippets_lanes.png" alt="Refactor_data_container_snippets_lanes.png"/>
</div>
<p>The following table gives an overview of the current container types and snippets used for carriage ways and the new structure.</p>
<table class="doxtable">
<tr>
<th></th><th>CarriageWay (general)</th><th>CarriageWay6970</th><th>CarriageWay6972  </th></tr>
<tr>
<td>CarriageWayListxxxx</td><td>CarriageWayList (using CarriageWayList6972)</td><td>CarriageWayList6970</td><td>CarriageWayList6972  </td></tr>
<tr>
<td>CarriageWayListInxxxx</td><td></td><td>CarriageWayListIn6970 &rarr; move functionality to CarriageWayList6970</td><td>CarriageWayListIn6972 &rarr; move functionality to CarriageWayList6972  </td></tr>
<tr>
<td>CarriageWayInxxxx</td><td>CarriageWay (using CarriageWayIn6972)</td><td>CarriageWayIn6970 (using CarriageWayInTemplate&lt;LaneSegmentIn6970&gt;)</td><td>CarriageWayIn6972 (using CarriageWayInTemplate&lt;LaneSegmentIn6972&gt;)  </td></tr>
<tr>
<td>CarriageWaySegmentInxxxx</td><td>CarriageWaySegment (using CarriageWaySegmentIn6972)</td><td>CarriageWaySegmentIn6970 (using CarriageWaySegmentInTemplate&lt;LaneSegmentIn6970&gt;)</td><td>CarriageWaySegmentIn6972 (using CarriageWaySegmentInTemplate&lt;LaneSegmentIn6972&gt;)  </td></tr>
<tr>
<td>LaneInxxxx</td><td>Lane (using LaneIn6972)</td><td>LaneIn6970 (using LaneInTemplate&lt;LaneSegmentIn6970&gt;)</td><td>LaneIn6972 (using LaneInTemplate&lt;LaneSegmentIn6972&gt;)  </td></tr>
<tr>
<td>LaneSegmentInxxxx</td><td>LaneSegment (using LaneSegmentIn6972)</td><td>LaneSegmentIn6970</td><td>LaneSegmentIn6972  </td></tr>
<tr>
<td>LaneSupportPoint</td><td>LaneSupportPoint (using LaneSupportPoint6972)</td><td>LaneSupportPoint6970</td><td>LaneSupportPoint6972 (using LaneSupportPoint6970)  </td></tr>
</table>
<h3><a class="anchor" id="sec_objectlist_gdc"></a>
ObjectList</h3>
<p>The following table gives an overview of the current container types and snippets used for object lists and the new structure (in bold and italic).</p>
<table class="doxtable">
<tr>
<th></th><th>ObjectList(general)</th><th>ObjectList2221 (LUX)</th><th>ObjectList2225 (ECU)</th><th>ObjectList2270 (LUX145/Audi)</th><th>ObjectList2271 (Scala)</th><th>ObjectList2280 (ECU)</th><th>ObjectList2281 (ECU)</th><th>ObjectList2290 (ECU)</th><th>ObjectList2291 (ECU)  </th></tr>
<tr>
<th>Object type</th><td>Object</td><td>ObjectLux &rarr; ObjectIn2221</td><td>ObjectEcu &rarr; ObjectIn2225</td><td>ObjectScala &rarr; ObjectIn2270</td><td>ObjectScala2271 &rarr; ObjectIn2271</td><td>ObjectEcuEt &rarr; ObjectIn2280</td><td>ObjectEcuEtDyn &rarr; ObjectIn2281</td><td>ObjectEcuEt &rarr; ObjectIn2290 (using ObjectIn2280)</td><td>ObjectEcuEtDyn &rarr; ObjectIn2291 (using ObjectIn2281)  </td></tr>
<tr>
<th>Point type</th><td>ContourPoint</td><td><a class="el" href="../../d1/d51/a00628.html">Vector2&lt;int16_t&gt;</a></td><td><a class="el" href="../../d1/d51/a00628.html">Vector2&lt;float&gt;</a></td><td><a class="el" href="../../d1/d51/a00628.html">Vector2&lt;int16_t&gt;</a></td><td>ContourPointCm &rarr; ContourPointIn2271</td><td><a class="el" href="../../d1/d51/a00628.html">Vector2&lt;float&gt;</a></td><td><a class="el" href="../../d1/d51/a00628.html">Vector2&lt;float&gt;</a></td><td><a class="el" href="../../d1/d51/a00628.html">Vector2&lt;float&gt;</a></td><td><a class="el" href="../../d1/d51/a00628.html">Vector2&lt;float&gt;</a>  </td></tr>
<tr>
<th>Other snippet types</th><td>UnfilteredObjectData</td><td></td><td></td><td></td><td>UnfilteredObjectAttributesCm &rarr; UnfilteredObjectDataIn2271 FilteredObjectAttributesCm &rarr; FilteredObjectDataIn2271</td><td></td><td></td><td></td><td></td></tr>
</table>
<p>The classes MeasurementList and Measurement (as snippet in ObjectList, ObjectList2281, and ObjectList2291) are shared with other data containers and thus not changed.</p>
<p>The classes MeasurementList and Measurement (as snippet in ObjectList, ObjectList2281, and ObjectList2291) are shared with other data containers and thus not changed during this refactoring. After refactoring the other data containers they should be moved into the common types folder. Nevertheless, serialization and deserialization of these classes in the context of object lists will be implemented during this refactoring.</p>
<h3><a class="anchor" id="sec_pointcloud_gdc"></a>
PointCloud</h3>
<p>Each data container has a number of points that are different in how they store the coordinates: the GlobalPoint uses GPS coordinates for every point while the PlanePoint uses x,y,z coordinates as offsets to a reference point. Iterator together with proxy classes are used to give a common representation of the points. This allows a fast access because the coordinates are not transformed beforehand but only if the point is read. But as the data container PointCloudGlobal7500 is very rarely used, it was decided to abandon the iterators in the point cloud classes and directly return the point vector instead. The classes will be renamed in the new structure (in bold and italic) according to the following table. Additionally, a new general data container PointCloud together with im- and exporters for data type ID 7510 (plane point cloud) will be implemented.</p>
<div class="image">
<img src="../../Refactor_data_container_snippets_pointcloud.png" alt="Refactor_data_container_snippets_pointcloud.png"/>
</div>
<table class="doxtable">
<tr>
<th></th><th>PointCloud (general)</th><th>PointCloudGlobal7500 &rarr; PointCloud7500</th><th>PointCloudPlane7510 &rarr; PointCloud7510 </th></tr>
<tr>
<th>Point type</th><td>PointCloudPoint</td><td>GlobalPoint &rarr; PointCloudPoint7500</td><td>PlanePoint &rarr; PointCloudPoint7510 </td></tr>
</table>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 17 2020 15:12:31 for SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
